{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{\"5pKv\":function(e,a){e.exports=\"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\\ufeff\"},\"6BQ9\":function(e,a,t){e.exports=t(\"uekQ\")},RNiq:function(e,a,t){\"use strict\";t.r(a),t.d(a,\"default\",function(){return x});t(\"7pPZ\");var l=t(\"qPIi\"),n=t.n(l),c=t(\"6BQ9\"),i=t.n(c),r=t(\"ln6h\"),s=t.n(r),u=t(\"O40h\"),o=t(\"0iUn\"),m=t(\"sLSF\"),d=t(\"MI3g\"),p=t(\"a7VT\"),h=t(\"AT/M\"),v=t(\"Tit0\"),f=t(\"vYYK\"),w=t(\"q1tI\"),_=t.n(w),E=t(\"CafY\"),b=t(\"00EI\"),N=t(\"wd/R\"),y=t.n(N),k=t(\"vDqi\"),g=t.n(k),x=function(e){function a(){var e,t;Object(o.default)(this,a);for(var l=arguments.length,n=new Array(l),c=0;c<l;c++)n[c]=arguments[c];return t=Object(d.default)(this,(e=Object(p.default)(a)).call.apply(e,[this].concat(n))),Object(f.a)(Object(h.default)(t),\"state\",{name:\"\",sex:1,age:0,phone:\"\",appointment_date:\"\",time_bucket:1,check_project:1,check_project_lable:\"\",check_method:1,history:1,allergy_history:\"\",history_lable:\"\",remark:\"\",is70:!1}),t}return Object(v.default)(a,e),Object(m.default)(a,[{key:\"loadList\",value:function(){var e=Object(u.default)(s.a.mark(function e(a){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case\"end\":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()},{key:\"componentDidMount\",value:function(){var e=Object(u.default)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case\"end\":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:\"choiceDate\",value:function(){var e=this;weui.datePicker({start:new Date(y()().add(1,\"days\")),end:2030,onChange:function(e){},onConfirm:function(a){a[1].value<10&&(a[1].value=\"0\".concat(a[1].value)),a[2].value<10&&(a[2].value=\"0\".concat(a[2].value)),e.setState({appointment_date:a[0].value+\"-\"+a[1].value+\"-\"+a[2].value})},id:\"datePicker\"})}},{key:\"checkProJect\",value:function(){var e=this;weui.picker(b.a,{className:\"custom-classname\",container:\"body\",defaultValue:[1],onChange:function(e){},onConfirm:function(a){e.setState({check_project_lable:a[0].label,check_project:a[0].value})},id:\"checkProJect\"})}},{key:\"choiceAllergyHistory\",value:function(){var e=this;weui.picker(b.b,{className:\"custom-classname\",container:\"body\",defaultValue:[1],onChange:function(e){},onConfirm:function(a){e.setState({history_lable:a[0].label,history:a[0].value})},id:\"historys\"})}},{key:\"choiceAge\",value:function(){for(var e=this,a=[],t=1;t<=100;t++)a.push({label:t+\"岁\",value:t});weui.picker(a,{className:\"custom-classname\",container:\"body\",defaultValue:[40],onChange:function(e){},onConfirm:function(a){var t=!1;a[0].value>=70&&(t=!0),e.setState({age:a[0].value,is70:t,check_method:t?1:e.state.check_method})},id:\"historys\"})}},{key:\"subMit\",value:function(){var e=Object(u.default)(s.a.mark(function e(){var a,t,l,n,c,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,t=a.name,a.sex,l=a.age,n=a.phone,c=a.appointment_date,a.time_bucket,r=a.check_project,a.check_method,a.history,a.allergy_history,a.remark,a.check_project_lable,a.history_lable,\"\"!=t){e.next=4;break}return alert(\"请输入姓名\"),e.abrupt(\"return\");case 4:if(!(l<=0)){e.next=7;break}return alert(\"请选择年龄\"),e.abrupt(\"return\");case 7:if(\"\"!=c){e.next=10;break}return alert(\"请选择预约时间\"),e.abrupt(\"return\");case 10:if(11==n.length&&!isNaN(i()(n))){e.next=13;break}return alert(\"请输入正确手机号\"),e.abrupt(\"return\");case 13:return document.getElementById(\"loadingToast\").style.display=\"block\",e.next=16,g.a.post(\"http://192.168.0.106:29001/jg/appointment/create\",this.state);case 16:200==e.sent.status?(1==r&&(location.href=\"https://mp.weixin.qq.com/s/v5ERTA7B3aXjecPVMzrYNA\"),2==r&&(location.href=\"https://mp.weixin.qq.com/s/-ZYzj-0Hcd2pfCggIGJuBA\"),3==r&&(location.href=\"https://mp.weixin.qq.com/s/8eqSfuNofulXk41qb1dCeA\"),4==r&&(location.href=\"https://mp.weixin.qq.com/s/I7CLWUt7Y2cf7v609Vu7mA\"),5==r&&(location.href=\"https://mp.weixin.qq.com/s/LFMbVZSwsoEhUBQCQO0oCg\"),6==r&&(location.href=\"https://mp.weixin.qq.com/s/fvy8cGmH-nrIrfpsTt_iyA\"),document.getElementById(\"loadingToast\").style.display=\"none\",document.getElementById(\"toast\").style.display=\"block\"):alert(\"预约失败，请检查填写项\");case 18:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this,a=this.state,t=a.name,l=a.sex,c=a.age,i=a.phone,r=a.appointment_date,s=a.time_bucket,u=(a.check_project,a.check_method),o=(a.history,a.allergy_history),m=a.remark,d=a.check_project_lable,p=a.history_lable,h=a.is70;return _.a.createElement(E.a,null,_.a.createElement(\"div\",null,_.a.createElement(\"div\",{id:\"loadingToast\",style:{display:\"none\"}},_.a.createElement(\"div\",{className:\"weui-mask_transparent\"}),_.a.createElement(\"div\",{className:\"weui-toast\"},_.a.createElement(\"i\",{className:\"weui-loading weui-icon_toast\"}),_.a.createElement(\"p\",{className:\"weui-toast__content\"},\"预约中\"))),_.a.createElement(\"div\",{id:\"toast\",style:{display:\"none\"}},_.a.createElement(\"div\",{className:\"weui-mask_transparent\"}),_.a.createElement(\"div\",{className:\"weui-toast\"},_.a.createElement(\"i\",{className:\"weui-icon-success-no-circle weui-icon_toast\"}),_.a.createElement(\"p\",{className:\"weui-toast__content\"},\"预约成功\"))),_.a.createElement(\"div\",{style:{height:5}}),_.a.createElement(\"div\",{className:\"weui-cells__group weui-cells__group_form\"},_.a.createElement(\"div\",{className:\"weui-cells__title\"},\"请填写预约信息\"),_.a.createElement(\"div\",{className:\"weui-cells weui-cells_form\"},_.a.createElement(\"div\",{className:\"weui-cell\"},_.a.createElement(\"div\",{className:\"weui-cell__hd\"},_.a.createElement(\"label\",{className:\"weui-label\"},\"姓名\")),_.a.createElement(\"div\",{className:\"weui-cell__bd\"},_.a.createElement(\"input\",{id:\"js_input\",value:t,onChange:function(a){e.setState({name:a.target.value})},className:\"weui-input\",placeholder:\"请填写姓名\"}))),_.a.createElement(\"div\",{className:\"weui-cell\"},_.a.createElement(\"div\",{className:\"weui-cell__hd\"},_.a.createElement(\"label\",{className:\"weui-label\"},\"性别\")),_.a.createElement(\"div\",{className:\"weui-cell__bd\"},_.a.createElement(n.a.Group,{onChange:function(a){e.setState({sex:a.target.value})},value:l},_.a.createElement(n.a,{value:1},\"男\"),_.a.createElement(n.a,{value:2},\"女\")))),_.a.createElement(\"div\",{className:\"weui-cell\"},_.a.createElement(\"div\",{className:\"weui-cell__hd\"},_.a.createElement(\"label\",{className:\"weui-label\"},\"年龄\")),_.a.createElement(\"div\",{className:\"weui-cell__bd\",onClick:this.choiceAge.bind(this),id:\"ages\"},_.a.createElement(\"input\",{className:\"weui-input\",value:0!=c?c+\"岁\":\"\",disabled:!0,placeholder:\"请选择年龄\",type:\"text\"}))),_.a.createElement(\"div\",{className:\"weui-cell\"},_.a.createElement(\"div\",{className:\"weui-cell__hd\"},_.a.createElement(\"label\",{className:\"weui-label\"},\"手机\")),_.a.createElement(\"div\",{className:\"weui-cell__bd\"},_.a.createElement(\"input\",{className:\"weui-input\",value:i,onChange:function(a){e.setState({phone:a.target.value})},placeholder:\"请填写联系电话\",type:\"number\",pattern:\"[0-9]*\"}))),_.a.createElement(\"div\",{className:\"weui-cell\"},_.a.createElement(\"div\",{className:\"weui-cell__hd\"},_.a.createElement(\"label\",{className:\"weui-label\"},\"预约时间\")),_.a.createElement(\"div\",{id:\"datePicker\",onClick:this.choiceDate.bind(this)},_.a.createElement(\"input\",{className:\"weui-input\",disabled:!0,value:r,placeholder:\"请选择预约时间\",type:\"text\"}))),_.a.createElement(\"div\",{className:\"weui-cell\"},_.a.createElement(\"div\",{className:\"weui-cell__hd\"},_.a.createElement(\"label\",{className:\"weui-label\"},\"时间段\")),_.a.createElement(\"div\",{className:\"weui-cell__bd\"},_.a.createElement(n.a.Group,{onChange:function(a){e.setState({time_bucket:a.target.value})},value:s},_.a.createElement(n.a,{value:1},\"上午\"),_.a.createElement(n.a,{value:2},\"下午\")))),_.a.createElement(\"div\",{className:\"weui-cell\"},_.a.createElement(\"div\",{className:\"weui-cell__hd\"},_.a.createElement(\"label\",{className:\"weui-label\"},\"检查项目\")),_.a.createElement(\"div\",{className:\"weui-cell__bd\",id:\"checkProJect\",onClick:this.checkProJect.bind(this)},_.a.createElement(\"input\",{className:\"weui-input\",disabled:!0,value:d,placeholder:\"请选择检查项目\",type:\"text\"}))),_.a.createElement(\"div\",{className:\"weui-cell\"},_.a.createElement(\"div\",{className:\"weui-cell__hd\"},_.a.createElement(\"label\",{className:\"weui-label\"},\"检查方式\")),_.a.createElement(\"div\",{className:\"weui-cell__bd\"},_.a.createElement(n.a.Group,{onChange:function(a){e.setState({check_method:a.target.value})},value:u},_.a.createElement(n.a,{value:1},\"普通\"),_.a.createElement(n.a,{value:2,disabled:h},\"无痛\")))),_.a.createElement(\"div\",{className:\"weui-cell\"},_.a.createElement(\"div\",{className:\"weui-cell__hd\"},_.a.createElement(\"label\",{className:\"weui-label\"},\"既往病史\")),_.a.createElement(\"div\",{className:\"weui-cell__bd\",onClick:this.choiceAllergyHistory.bind(this),id:\"historys\"},_.a.createElement(\"input\",{className:\"weui-input\",disabled:!0,value:p,placeholder:\"请选择既往病史\",type:\"text\"}))),_.a.createElement(\"div\",{className:\"weui-cell\"},_.a.createElement(\"div\",{className:\"weui-cell__hd\"},_.a.createElement(\"label\",{className:\"weui-label\"},\"药物过敏史\")),_.a.createElement(\"input\",{className:\"weui-input\",value:o,onChange:function(a){e.setState({allergy_history:a.target.value})},placeholder:\"如有请填写\",type:\"text\"})),_.a.createElement(\"div\",{className:\"weui-cell\"},_.a.createElement(\"div\",{className:\"weui-cell__bd\"},_.a.createElement(\"textarea\",{className:\"weui-textarea\",value:m,onChange:function(a){e.setState({remark:a.target.value})},placeholder:\"备注\",rows:\"3\"}))),_.a.createElement(\"div\",{style:{height:5}}),_.a.createElement(\"a\",{href:\"javascript:;\",onClick:this.subMit.bind(this),className:\"weui-btn weui-btn_primary\"},\"提交预约申请\"),_.a.createElement(\"div\",{style:{height:15}})))))}}],[{key:\"getInitialProps\",value:function(){var e=Object(u.default)(s.a.mark(function e(a){var t,l,n,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.req,l=a.query,n=a.jsonPageRes,c=t?t.headers[\"user-agent\"]:navigator.userAgent,e.abrupt(\"return\",{userAgent:c,query:l,jsonPageRes:n});case 3:case\"end\":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()}]),a}(_.a.Component)},XWtR:function(e,a,t){var l=t(\"5T2Y\").parseInt,n=t(\"oc46\").trim,c=t(\"5pKv\"),i=/^[-+]?0[xX]/;e.exports=8!==l(c+\"08\")||22!==l(c+\"0x16\")?function(e,a){var t=n(String(e),3);return l(t,a>>>0||(i.test(t)?16:10))}:l},dEVD:function(e,a,t){var l=t(\"Y7ZC\"),n=t(\"XWtR\");l(l.G+l.F*(parseInt!=n),{parseInt:n})},oc46:function(e,a,t){var l=t(\"Y7ZC\"),n=t(\"Jes0\"),c=t(\"KUxP\"),i=t(\"5pKv\"),r=\"[\"+i+\"]\",s=RegExp(\"^\"+r+r+\"*\"),u=RegExp(r+r+\"*$\"),o=function(e,a,t){var n={},r=c(function(){return!!i[e]()||\"​\"!=\"​\"[e]()}),s=n[e]=r?a(m):i[e];t&&(n[t]=s),l(l.P+l.F*r,\"String\",n)},m=o.trim=function(e,a){return e=String(n(e)),1&a&&(e=e.replace(s,\"\")),2&a&&(e=e.replace(u,\"\")),e};e.exports=o},uekQ:function(e,a,t){t(\"dEVD\"),e.exports=t(\"WEpk\").parseInt},vlRD:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){var e=t(\"RNiq\");return{page:e.default||e}}])}},[[\"vlRD\",1,0,2]]]);","extractedComments":[]}