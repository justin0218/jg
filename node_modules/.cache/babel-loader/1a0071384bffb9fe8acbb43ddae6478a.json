{"ast":null,"code":"import \"antd/lib/table/style/css\";\nimport _Table from \"antd/lib/table\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/justin/Desktop/private/admin_jg/pages/admin.js\";\nimport React from \"react\";\nimport Layout from '../components/layout';\nimport { checkProjects, historys } from '../utils/config';\nimport moment from \"moment\";\nimport Axios from 'axios';\n\nvar _default =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(_default, _React$Component);\n\n  function _default() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(_default)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      data: {\n        list: []\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"loadList\",\n    value: function () {\n      var _loadList = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(serachParam) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Axios.get(\"http://localhost:29001/jg/appointment/list\");\n\n              case 2:\n                res = _context.sent;\n                console.log(res);\n                this.setState({\n                  data: res.data\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function loadList(_x) {\n        return _loadList.apply(this, arguments);\n      }\n\n      return loadList;\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.loadList();\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var data = this.state.data;\n      var columns = [{\n        title: '姓名',\n        dataIndex: 'name',\n        key: 'name'\n      }, {\n        title: '性别',\n        dataIndex: 'sex',\n        key: 'sex',\n        render: function render(a, b, c) {\n          return React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44\n            },\n            __self: this\n          }, b.sex == 1 ? \"男\" : \"女\");\n        }\n      }, {\n        title: '年龄',\n        dataIndex: 'age',\n        key: 'age',\n        render: function render(a, b, c) {\n          return React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }, b.age, \"\\u5C81\");\n        }\n      }, {\n        title: '手机号',\n        dataIndex: 'phone',\n        key: 'phone'\n      }, {\n        title: '预约时间',\n        dataIndex: 'appointment_date',\n        key: 'appointment_date',\n        render: function render(a, b, c) {\n          return React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          }, b.appointment_date, \" \", b.time_bucket == 1 ? \"上午\" : \"下午\");\n        }\n      }, {\n        title: '检查项目',\n        dataIndex: 'check_project',\n        key: 'check_project',\n        render: function render(a, b, c) {\n          return React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73\n            },\n            __self: this\n          }, checkProjects.find(function (v) {\n            return v.value == b.check_project;\n          }).label);\n        }\n      }, {\n        title: '检查方式',\n        dataIndex: 'check_method',\n        key: 'check_method',\n        render: function render(a, b, c) {\n          return React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81\n            },\n            __self: this\n          }, b.check_method == 1 ? \"普通\" : \"无痛\");\n        }\n      }, {\n        title: '既往史',\n        dataIndex: 'history',\n        key: 'history',\n        render: function render(a, b, c) {\n          return React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }, historys.find(function (v) {\n            return v.value == b.history;\n          }).label);\n        }\n      }, {\n        title: '过敏史',\n        dataIndex: 'allergy_history',\n        key: 'allergy_history'\n      }];\n      return React.createElement(_Table, {\n        rowKey: \"id\",\n        dataSource: data.list,\n        columns: columns,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      });\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(_ref) {\n        var req, query, jsonPageRes, userAgent;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                req = _ref.req, query = _ref.query, jsonPageRes = _ref.jsonPageRes;\n                userAgent = req ? req.headers['user-agent'] : navigator.userAgent;\n                return _context3.abrupt(\"return\", {\n                  userAgent: userAgent,\n                  query: query,\n                  jsonPageRes: jsonPageRes\n                });\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function getInitialProps(_x2) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return _default;\n}(React.Component);\n\nexport { _default as default };","map":{"version":3,"sources":["/Users/justin/Desktop/private/admin_jg/pages/admin.js"],"names":["Layout","checkProjects","historys","moment","Axios","data","list","serachParam","get","res","console","log","setState","loadList","state","columns","title","dataIndex","key","render","a","b","c","sex","age","appointment_date","time_bucket","find","v","value","check_project","label","check_method","history","req","query","jsonPageRes","userAgent","headers","navigator","React","Component"],"mappings":"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","sourcesContent":["import Layout from '../components/layout'\nimport {Radio,Table} from 'antd'\nimport {checkProjects,historys} from '../utils/config'\nimport moment from \"moment\"\nimport Axios from 'axios';\nexport default class extends React.Component {\n  static async getInitialProps({ req,query,jsonPageRes }) {\n    const userAgent = req ? req.headers['user-agent'] : navigator.userAgent\n    return { userAgent,query,jsonPageRes }\n  }\n  state = {\n    data:{\n      list:[]\n    }\n  }\n\n  async loadList(serachParam){\n    let res = await Axios.get(`http://localhost:29001/jg/appointment/list`)\n    console.log(res);\n    this.setState({data:res.data})\n  }\n\n  async componentDidMount(){\n     await this.loadList();\n  }\n \n\n\n \n\n  render() {\n    let {data} = this.state;\n    const columns = [\n      {\n        title: '姓名',\n        dataIndex: 'name',\n        key: 'name',\n      },\n      {\n        title: '性别',\n        dataIndex: 'sex',\n        key: 'sex',\n        render:(a,b,c)=>{\n          return <span>{b.sex == 1 ? \"男\":\"女\"}</span>\n        }\n      },\n      {\n        title: '年龄',\n        dataIndex: 'age',\n        key: 'age',\n        render:(a,b,c)=>{\n          return <span>{b.age}岁</span>\n        }\n      },\n      {\n        title: '手机号',\n        dataIndex: 'phone',\n        key: 'phone',\n      },\n      {\n        title: '预约时间',\n        dataIndex: 'appointment_date',\n        key: 'appointment_date',\n        render:(a,b,c)=>{\n           return <span>{b.appointment_date} {b.time_bucket == 1 ? \"上午\":\"下午\"}</span>\n        }\n      },\n      {\n        title: '检查项目',\n        dataIndex: 'check_project',\n        key: 'check_project',\n        render:(a,b,c)=>{\n           return <span>{checkProjects.find((v)=>{return v.value == b.check_project}).label}</span>\n        }\n      },\n      {\n        title: '检查方式',\n        dataIndex: 'check_method',\n        key: 'check_method',\n        render:(a,b,c)=>{\n           return <span>{b.check_method == 1 ? \"普通\":\"无痛\"}</span>\n        }\n      },\n      {\n        title: '既往史',\n        dataIndex: 'history',\n        key: 'history',\n        render:(a,b,c)=>{\n           return <span>{historys.find((v)=>{return v.value == b.history}).label}</span>\n        }\n      },\n      {\n        title: '过敏史',\n        dataIndex: 'allergy_history',\n        key: 'allergy_history'\n      }\n      \n      \n    ];\n    return (\n      <Table rowKey={`id`} dataSource={data.list} columns={columns} />\n    )\n  }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}