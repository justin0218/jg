{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/justin/Desktop/private/admin/pages/article.js\";\nimport React from \"react\";\nimport Layout from '../components/layout';\nimport tps from '../utils/blog_types';\nimport { apiHost } from '../utils/config';\nimport axios from 'axios';\nimport readStream from '../utils/util';\nimport protobuf from \"../proto/blog_pb\";\nimport Event from '../utils/emiter';\n\nvar _default =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(_default, _React$Component);\n\n  function _default() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(_default)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      editor: null\n    });\n\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var editor;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                editor = editormd({\n                  id: \"editormd\",\n                  theme: \"dark\",\n                  markdown: \"\",\n                  toolbarIconTexts: {\n                    saveIcon: \"保存\"\n                  },\n                  toolbarHandlers: {\n                    /**\n                     * @param {Object}      cm         CodeMirror对象\n                     * @param {Object}      icon       图标按钮jQuery元素对象\n                     * @param {Object}      cursor     CodeMirror的光标对象，可获取光标所在行和位置\n                     * @param {String}      selection  编辑器选中的文本\n                     */\n                    saveIcon: function saveIcon(cm, icon, cursor, selection) {}\n                  },\n                  toolbarIcons: function toolbarIcons() {\n                    editormd.toolbarModes[\"full\"][editormd.toolbarModes[\"full\"].length - 1] = \"saveIcon\";\n                    return editormd.toolbarModes[\"full\"];\n                  },\n                  width: \"100%\",\n                  // height  : document.body.offsetHeight - 140,\n                  path: \"/static/\",\n                  pluginPath: \"/static/\",\n                  saveHTMLToTextarea: false,\n                  emoji: false,\n                  imageUpload: true,\n                  imageFormats: [\"jpg\", \"jpeg\", \"gif\", \"png\", \"bmp\", \"webp\"]\n                });\n                this.setState({\n                  editor: editor\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          blogList = _this$state.blogList,\n          leftHeight = _this$state.leftHeight;\n      return React.createElement(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"editormd\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(_ref) {\n        var req, query, jsonPageRes, userAgent;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                req = _ref.req, query = _ref.query, jsonPageRes = _ref.jsonPageRes;\n                userAgent = req ? req.headers['user-agent'] : navigator.userAgent;\n                return _context2.abrupt(\"return\", {\n                  userAgent: userAgent,\n                  query: query,\n                  jsonPageRes: jsonPageRes\n                });\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return _default;\n}(React.Component);\n\nexport { _default as default };","map":{"version":3,"sources":["/Users/justin/Desktop/private/admin/pages/article.js"],"names":["Layout","tps","apiHost","axios","readStream","protobuf","Event","editor","editormd","id","theme","markdown","toolbarIconTexts","saveIcon","toolbarHandlers","cm","icon","cursor","selection","toolbarIcons","toolbarModes","length","width","path","pluginPath","saveHTMLToTextarea","emoji","imageUpload","imageFormats","setState","state","blogList","leftHeight","req","query","jsonPageRes","userAgent","headers","navigator","React","Component"],"mappings":";;;;;;;;;;;AAAA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,SAAQC,OAAR,QAAsB,iBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;;;;;;;;;;;;;;;;;;;;4DAOU;AACNC,MAAAA,MAAM,EAAC;AADD,K;;;;;;;;;;;;;;;;AAMAA,gBAAAA,M,GAASC,QAAQ,CAAC;AAClBC,kBAAAA,EAAE,EAAQ,UADQ;AAElBC,kBAAAA,KAAK,EAAG,MAFU;AAGlBC,kBAAAA,QAAQ,EAAE,EAHQ;AAIlBC,kBAAAA,gBAAgB,EAAG;AACfC,oBAAAA,QAAQ,EAAG;AADI,mBAJD;AAOlBC,kBAAAA,eAAe,EAAG;AACd;;;;;;AAMAD,oBAAAA,QAAQ,EAAC,kBAASE,EAAT,EAAaC,IAAb,EAAmBC,MAAnB,EAA2BC,SAA3B,EAAsC,CAE9C;AATa,mBAPA;AAkBlBC,kBAAAA,YAAY,EAAG,wBAAW;AACtBX,oBAAAA,QAAQ,CAACY,YAAT,CAAsB,MAAtB,EAA8BZ,QAAQ,CAACY,YAAT,CAAsB,MAAtB,EAA8BC,MAA9B,GAAuC,CAArE,IAA0E,UAA1E;AACA,2BAAOb,QAAQ,CAACY,YAAT,CAAsB,MAAtB,CAAP;AACH,mBArBiB;AAsBlBE,kBAAAA,KAAK,EAAK,MAtBQ;AAuBlB;AACAC,kBAAAA,IAAI,EAAM,UAxBQ;AAyBlBC,kBAAAA,UAAU,EAAC,UAzBO;AA0BlBC,kBAAAA,kBAAkB,EAAG,KA1BH;AA2BlBC,kBAAAA,KAAK,EAAG,KA3BU;AA4BlBC,kBAAAA,WAAW,EAAG,IA5BI;AA6BlBC,kBAAAA,YAAY,EAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB,KAAhB,EAAuB,KAAvB,EAA8B,KAA9B,EAAqC,MAArC;AA7BG,iBAAD,C;AAgCrB,qBAAKC,QAAL,CAAc;AAACtB,kBAAAA,MAAM,EAANA;AAAD,iBAAd;;;;;;;;;;;;;;;;;;6BAGK;AAAA,wBACqB,KAAKuB,KAD1B;AAAA,UACFC,QADE,eACFA,QADE;AAAA,UACOC,UADP,eACOA,UADP;AAEP,aACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,EAAE,EAAC,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAKD;;;;;;;;;;;;AArD8BC,gBAAAA,G,QAAAA,G,EAAIC,K,QAAAA,K,EAAMC,W,QAAAA,W;AACjCC,gBAAAA,S,GAAYH,GAAG,GAAGA,GAAG,CAACI,OAAJ,CAAY,YAAZ,CAAH,GAA+BC,SAAS,CAACF,S;kDACvD;AAAEA,kBAAAA,SAAS,EAATA,SAAF;AAAYF,kBAAAA,KAAK,EAALA,KAAZ;AAAkBC,kBAAAA,WAAW,EAAXA;AAAlB,iB;;;;;;;;;;;;;;;;;;;EAHkBI,KAAK,CAACC,S","sourcesContent":["import Layout from '../components/layout'\nimport tps from '../utils/blog_types'\nimport {apiHost} from '../utils/config'\nimport axios from 'axios'\nimport readStream from '../utils/util'\nimport protobuf from \"../proto/blog_pb\";\nimport Event from '../utils/emiter';\nexport default class extends React.Component {\n  static async getInitialProps({ req,query,jsonPageRes }) {\n    const userAgent = req ? req.headers['user-agent'] : navigator.userAgent\n    return { userAgent,query,jsonPageRes }\n  }\n\n  state = {\n    editor:null\n  }\n\n\n  async componentDidMount(){\n      let editor = editormd({\n          id      : \"editormd\",\n          theme : \"dark\",\n          markdown: \"\",\n          toolbarIconTexts : {\n              saveIcon : \"保存\"\n          },\n          toolbarHandlers : {\n              /**\n               * @param {Object}      cm         CodeMirror对象\n               * @param {Object}      icon       图标按钮jQuery元素对象\n               * @param {Object}      cursor     CodeMirror的光标对象，可获取光标所在行和位置\n               * @param {String}      selection  编辑器选中的文本\n               */\n              saveIcon:function(cm, icon, cursor, selection) {\n                  \n              }\n          },\n          toolbarIcons : function() {\n              editormd.toolbarModes[\"full\"][editormd.toolbarModes[\"full\"].length - 1] = \"saveIcon\"\n              return editormd.toolbarModes[\"full\"]\n          },\n          width   : \"100%\",\n          // height  : document.body.offsetHeight - 140,\n          path    : \"/static/\",\n          pluginPath:\"/static/\",\n          saveHTMLToTextarea : false,\n          emoji : false,\n          imageUpload : true,\n          imageFormats : [\"jpg\", \"jpeg\", \"gif\", \"png\", \"bmp\", \"webp\"]\n      });\n\n      this.setState({editor});\n  }\n\n  render() {\n    let {blogList,leftHeight} = this.state;\n    return (\n      <Layout>\n        <div id=\"editormd\"></div>\n      </Layout>    \n    )\n  }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}